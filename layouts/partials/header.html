{{- /* Desktop header */ -}}
<header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="{{ .Site.Home.RelPermalink }}" title="{{ .Site.Title }}">
                {{- with .Site.Params.header.title }}
                    {{- if .logo_light }}
                        <img src="{{ .logo_light }}" class="theme-light-logo" alt="Light Mode Logo">
                        {{- end }}
                        {{- if .logo_dark }}
                            <img src="{{ .logo_dark }}" class="theme-dark-logo" alt="Dark Mode Logo">
                        {{- end }}
                        {{- with .pre }}
                            <span class="header-title-pre">{{ . | safeHTML }}</span>
                        {{- end }}
                        {{- if .typeit }}
                            {{- $id := dict "Content" .name "Scratch" $.Scratch | partial "function/id.html" }}
                            <span id="{{ $id }}" class="typeit"></span>
                            {{- dict $id (slice $id) | dict "typeitMap" | merge ($.Scratch.Get "this") | $.Scratch.Set "this" }}
                        {{- else }}
                            {{- .name }}
                        {{- end }}
                        {{- with .post }}
                            <span class="header-title-post">{{ . | safeHTML }}</span>
                        {{- end }}
                    {{- else }}
                        {{- .Site.Title }}
                    {{- end }}
                </a>
            </div>
            <div class="menu">
                <div class="menu-inner">
                    {{- range .Site.Menus.main }}
                        {{- $url := .URL | relLangURL }}
                        {{- with .Page }}
                            {{- $url = .RelPermalink }}
                        {{- end }}
                        <a class="menu-item{{ if $.IsMenuCurrent `main` . | or ($.HasMenuCurrent `main` .) | or (eq $.RelPermalink $url) }} active{{ end }}" href="{{ $url }}"{{ with .Title }} title="{{ . }}"{{ end }}{{ if (urls.Parse $url).Host }} rel="noopener noreffer" target="_blank"{{ end }}>
                            {{- .Pre | safeHTML }} {{ .Name }} {{ .Post | safeHTML }}
                        </a>
                    {{- end }}
                    {{- if .Site.Menus.main }}
                        <span class="menu-item delimiter"></span>
                    {{- end }}

                    {{- if .Site.Params.search.enable }}
                        <span class="menu-item search" id="search-desktop">
                            <input type="text" placeholder="{{ .Site.Params.search.placeholder | default (T `searchPlaceholder`) }}" id="search-input-desktop">
                            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="{{ T `search` }}">
                                <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                            </a>
                            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="{{ T `clear` }}">
                                <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                            </a>
                            <span class="search-button search-loading" id="search-loading-desktop">
                                <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                            </span>
                        </span>
                    {{- end }}
                </div>
            </div>
        </div>
    </header>